<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>

    <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.js"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"
        integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg=="
        crossorigin="anonymous"></script> -->

    <title>Hello, world!</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <h1>Timetable</h1>
            <div id="example-table"></div>
            <!-- <div id="ag-table"></div> -->
            <div id="ag-table" style="height: 600px; width:100%;" class="ag-theme-balham"></div>
        </div>
    </div>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>

    <script>
        //define data array
        // var tabledata = [
        //     { id: 1, name: "Oli Bob", progress: 12, gender: "male", rating: 1, col: "red", dob: "19/02/1984", car: 1 },
        //     { id: 2, name: "Mary May", progress: 1, gender: "female", rating: 2, col: "blue", dob: "14/05/1982", car: true },
        //     { id: 3, name: "Christine Lobowski", progress: 42, gender: "female", rating: 0, col: "green", dob: "22/05/1982", car: "true" },
        //     { id: 4, name: "Brendon Philips", progress: 100, gender: "male", rating: 1, col: "orange", dob: "01/08/1980" },
        //     { id: 5, name: "Margret Marmajuke", progress: 16, gender: "female", rating: 5, col: "yellow", dob: "31/01/1999" },
        //     { id: 6, name: "Frank Harbours", progress: 38, gender: "male", rating: 4, col: "red", dob: "12/05/1966", car: 1 },
        // ];

        // const tabledata = require(['courses.json']);

        // var tabledata;

        const columnDefs = [
            { field: "term" },
            {
                field: "program",
                filter: 'agTextColumnFilter'
            },
            { field: "number" },
            { field: "subnumber" },
            { field: "section" },
            { field: "title" },
            { field: "delivery_mode" },
            { field: "crosslisted" },
            { field: "period" },
            { field: "room" },
            { field: "building" },
            { field: "instructor" },
            { field: "world_culture" },
            {
                field: "distribs",
                filter: 'agTextColumnFilter'
            },
            {
                field: "limit",
                filter: 'agNumberColumnFilter',
            },
            { field: "status" },
            { field: "id" },

        ];

        function populate_table(tabledata) {
            //initialize table
            var table = new Tabulator("#example-table", {
                data: tabledata, //assign data to table
                autoColumns: true, //create columns from data field names
                progressiveRender: true //enable progressive rendering
            });
        };

        function populate_ag(data) {
            const gridOptions = {
                columnDefs: columnDefs,
                rowData: data
            };
            const gridDiv = document.querySelector('#ag-table');
            new agGrid.Grid(gridDiv, gridOptions);

        };

        fetch("./courses.json")
            .then(response => {
                return response.json();
            })
            .then(data => populate_ag(data));


    </script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    -->
</body>

</html>