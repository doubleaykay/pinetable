<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.js"></script>

    <title>Pinetable</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <h1>Pinetable</h1>
            <div id="example-table"></div>
            <!-- <div id="ag-table"></div> -->
            <div id="ag-table" style="height: 600px; width:100%;" class="ag-theme-balham"></div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>

    <script>
        const columnDefs = [
            {
                field: "program",
                filter: 'agTextColumnFilter',
                pinned: 'left'
            },
            { field: "num", pinned: 'left' },
            { field: "title" },
            { field: "instructor" },



            // { field: "number" },
            // { field: "subnumber" },
            { field: "section" },
            
            { field: "delivery_mode" },
            { field: "crosslisted" },
            { field: "period" },
            { field: "room" },
            { field: "building" },
            
            { field: "world_culture" },
            {
                field: "distribs",
                filter: 'agTextColumnFilter'
            },
            {
                field: "limit",
                filter: 'agNumberColumnFilter',
            },
            { field: "status" },
            { field: "id" },
            { field: "crn" },
            { field: "enrollment" },
            { field: "term" }
            
        ];

        function populate_ag(data) {
            const gridOptions = {
                columnDefs: columnDefs,
                rowData: data
            };
            const gridDiv = document.querySelector('#ag-table');
            new agGrid.Grid(gridDiv, gridOptions);

        };

        fetch("./courses.json")
            .then(response => {
                return response.json();
            })
            .then(data => populate_ag(data));

    </script>

</body>

</html>